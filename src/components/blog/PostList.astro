---
import PostCard from './PostCard.astro';
import type { CollectionEntry } from 'astro:content';

interface Props {
  posts: CollectionEntry<'blog'>[];
  title?: string;
  showTitle?: boolean;
}

const { posts, title = '最新文章', showTitle = true } = Astro.props;
---

<section class='py-8'>
  {
    showTitle && (
      <div class='mb-8'>
        <h2 class='text-3xl font-bold text-gray-900 mb-2'>{title}</h2>
        <div class='w-20 h-1 bg-blue-600 rounded' />
      </div>
    )
  }

  {
    posts.length > 0 ? (
      <div class='grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6'>
        {posts.map(post => (
          <PostCard post={post} />
        ))}
      </div>
    ) : (
      <div class='text-center py-12'>
        <p class='text-gray-500 text-lg'>目前還沒有文章</p>
      </div>
    )
  }
</section>
